% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/feature_importance.R
\name{mlasdo_select_top_features}
\alias{mlasdo_select_top_features}
\title{Select top omic features based on a trained MLASDO RF model}
\usage{
mlasdo_select_top_features(
  model,
  omic_data,
  id_column = "participant_id",
  target_column = "diagnosis_type",
  exclude_variables = c("age_at_baseline", "sex"),
  elbow_method = c("uik"),
  output_dir = NULL,
  output_path = NULL,
  verbose = interactive()
)
}
\arguments{
\item{model}{A fitted \code{caret} model or a path to an \code{.rds} file containing
one (usually the RF produced by \code{run_mlasdo()}).}

\item{omic_data}{Data frame or \code{.rds} path with the full omic dataset.}

\item{id_column}{Identifier column preserved in the output.}

\item{target_column}{Target variable preserved in the output.}

\item{exclude_variables}{Optional character vector with covariates that should
be excluded from the trimmed dataset (e.g., \code{"age_at_baseline"} and \code{"sex"}).
These variables still appear in the importance ranking but are removed before
saving the reduced omic table.}

\item{elbow_method}{Currently only \code{"uik"} is implemented; reserved for future
strategies.}

\item{output_dir}{Optional directory where the trimmed dataset will be
written. When provided, a default filename (\code{omic_selected_features.rds}) is
used unless \code{output_path} overrides it.}

\item{output_path}{Optional explicit file path for the trimmed dataset. Takes
precedence over \code{output_dir}. Directories are created automatically.}

\item{verbose}{Print short progress messages.}
}
\value{
A list with the sorted importances, selected feature names, and the
trimmed omic data frame.
}
\description{
This helper loads (or receives) an already-trained \code{caret::train} object,
retrieves permutation importances, estimates the elbow point using
\code{inflection::uik()}, and trims the omic dataset to the most informative
variablesâ€”mirroring the workflow in
\code{scripts/feature_selection/feature_selection.Rmd}.
}
